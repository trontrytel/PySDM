<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>PySDM.initialisation.spectra API documentation</title>
<meta name="description" content="Created at 03.06.2019" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>PySDM.initialisation.spectra</code></h1>
</header>
<section id="section-intro">
<p>Created at 03.06.2019</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;
Created at 03.06.2019
&#34;&#34;&#34;

from scipy.stats import lognorm
from scipy.stats import expon
import math
import numpy as np
from scipy.interpolate import interp1d
from .spectral_sampling import default_cdf_range

default_interpolation_grid = tuple(np.linspace(*default_cdf_range, 999))


class Spectrum:

    def __init__(self, distribution, distribution_params, norm_factor):
        self.distribution_params = distribution_params  # (loc, scale)
        self.norm_factor = norm_factor
        self.distribution = distribution

    def size_distribution(self, x):
        result = self.norm_factor * self.distribution.pdf(x, *self.distribution_params)
        return result

    def stats(self, moments):
        result = self.distribution.stats(*self.distribution_params, moments)
        return result

    def cumulative(self, x):
        result = self.norm_factor * self.distribution.cdf(x, *self.distribution_params)
        return result

    def percentiles(self, cdf_values):
        result = self.distribution.ppf(cdf_values, *self.distribution_params)
        return result


class Exponential(Spectrum):

    def __init__(self, norm_factor, scale):
        super().__init__(expon, (
            0,     # loc
            scale  # scale = 1/lambda
        ), norm_factor)


class Lognormal(Spectrum):

    def __init__(self, norm_factor: float, m_mode: float, s_geom: float):
        super().__init__(lognorm, (math.log(s_geom), 0, m_mode), norm_factor)


class Sum:

    def __init__(self, spectra: tuple, interpolation_grid=default_interpolation_grid):
        self.spectra = spectra
        self.norm_factor = sum((s.norm_factor for s in self.spectra))
        p = [s.percentiles(interpolation_grid) for s in self.spectra]
        x = np.zeros(len(interpolation_grid) * len(self.spectra) + 1)
        x[1:] = np.concatenate(p)
        y = self.cumulative(x) / self.norm_factor
        self.inverse_cdf = interp1d(y, x)

    def size_distribution(self, x):
        result = 0.
        for spectrum in self.spectra:
            result += spectrum.size_distribution(x)
        return result

    def cumulative(self, x):
        result = 0.
        for spectrum in self.spectra:
            result += spectrum.cumulative(x)
        return result

    def percentiles(self, cdf_values):
        return self.inverse_cdf(cdf_values)</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="PySDM.initialisation.spectra.Exponential"><code class="flex name class">
<span>class <span class="ident">Exponential</span></span>
<span>(</span><span>norm_factor, scale)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Exponential(Spectrum):

    def __init__(self, norm_factor, scale):
        super().__init__(expon, (
            0,     # loc
            scale  # scale = 1/lambda
        ), norm_factor)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="PySDM.initialisation.spectra.Spectrum" href="#PySDM.initialisation.spectra.Spectrum">Spectrum</a></li>
</ul>
</dd>
<dt id="PySDM.initialisation.spectra.Lognormal"><code class="flex name class">
<span>class <span class="ident">Lognormal</span></span>
<span>(</span><span>norm_factor: float, m_mode: float, s_geom: float)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Lognormal(Spectrum):

    def __init__(self, norm_factor: float, m_mode: float, s_geom: float):
        super().__init__(lognorm, (math.log(s_geom), 0, m_mode), norm_factor)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="PySDM.initialisation.spectra.Spectrum" href="#PySDM.initialisation.spectra.Spectrum">Spectrum</a></li>
</ul>
</dd>
<dt id="PySDM.initialisation.spectra.Spectrum"><code class="flex name class">
<span>class <span class="ident">Spectrum</span></span>
<span>(</span><span>distribution, distribution_params, norm_factor)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Spectrum:

    def __init__(self, distribution, distribution_params, norm_factor):
        self.distribution_params = distribution_params  # (loc, scale)
        self.norm_factor = norm_factor
        self.distribution = distribution

    def size_distribution(self, x):
        result = self.norm_factor * self.distribution.pdf(x, *self.distribution_params)
        return result

    def stats(self, moments):
        result = self.distribution.stats(*self.distribution_params, moments)
        return result

    def cumulative(self, x):
        result = self.norm_factor * self.distribution.cdf(x, *self.distribution_params)
        return result

    def percentiles(self, cdf_values):
        result = self.distribution.ppf(cdf_values, *self.distribution_params)
        return result</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="PySDM.initialisation.spectra.Exponential" href="#PySDM.initialisation.spectra.Exponential">Exponential</a></li>
<li><a title="PySDM.initialisation.spectra.Lognormal" href="#PySDM.initialisation.spectra.Lognormal">Lognormal</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="PySDM.initialisation.spectra.Spectrum.cumulative"><code class="name flex">
<span>def <span class="ident">cumulative</span></span>(<span>self, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cumulative(self, x):
    result = self.norm_factor * self.distribution.cdf(x, *self.distribution_params)
    return result</code></pre>
</details>
</dd>
<dt id="PySDM.initialisation.spectra.Spectrum.percentiles"><code class="name flex">
<span>def <span class="ident">percentiles</span></span>(<span>self, cdf_values)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def percentiles(self, cdf_values):
    result = self.distribution.ppf(cdf_values, *self.distribution_params)
    return result</code></pre>
</details>
</dd>
<dt id="PySDM.initialisation.spectra.Spectrum.size_distribution"><code class="name flex">
<span>def <span class="ident">size_distribution</span></span>(<span>self, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def size_distribution(self, x):
    result = self.norm_factor * self.distribution.pdf(x, *self.distribution_params)
    return result</code></pre>
</details>
</dd>
<dt id="PySDM.initialisation.spectra.Spectrum.stats"><code class="name flex">
<span>def <span class="ident">stats</span></span>(<span>self, moments)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def stats(self, moments):
    result = self.distribution.stats(*self.distribution_params, moments)
    return result</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="PySDM.initialisation.spectra.Sum"><code class="flex name class">
<span>class <span class="ident">Sum</span></span>
<span>(</span><span>spectra: tuple, interpolation_grid=(1e-05, 0.0010119839679358718, 0.0020139679358717436, 0.0030159519038076153, 0.004017935871743487, 0.0050199198396793585, 0.00602190380761523, 0.007023887775551102, 0.008025871743486974, 0.009027855711422846, 0.010029839679358717, 0.011031823647294589, 0.01203380761523046, 0.013035791583166333, 0.014037775551102204, 0.015039759519038076, 0.016041743486973948, 0.01704372745490982, 0.01804571142284569, 0.019047695390781563, 0.020049679358717435, 0.021051663326653307, 0.02205364729458918, 0.02305563126252505, 0.024057615230460922, 0.025059599198396794, 0.026061583166332666, 0.027063567134268537, 0.02806555110220441, 0.02906753507014028, 0.030069519038076153, 0.031071503006012025, 0.0320734869739479, 0.03307547094188377, 0.03407745490981964, 0.03507943887775552, 0.03608142284569139, 0.037083406813627255, 0.03808539078156313, 0.039087374749499006, 0.040089358717434874, 0.04109134268537074, 0.04209332665330662, 0.04309531062124249, 0.04409729458917836, 0.04509927855711423, 0.046101262525050105, 0.04710324649298598, 0.04810523046092185, 0.049107214428857716, 0.05010919839679359, 0.05111118236472947, 0.052113166332665335, 0.053115150300601204, 0.05411713426853708, 0.055119118236472954, 0.05612110220440882, 0.05712308617234469, 0.058125070140280566, 0.05912705410821644, 0.06012903807615231, 0.06113102204408818, 0.06213300601202405, 0.06313498997995992, 0.06413697394789579, 0.06513895791583166, 0.06614094188376753, 0.06714292585170341, 0.06814490981963928, 0.06914689378757514, 0.07014887775551103, 0.0711508617234469, 0.07215284569138276, 0.07315482965931863, 0.0741568136272545, 0.07515879759519038, 0.07616078156312625, 0.07716276553106212, 0.078164749498998, 0.07916673346693387, 0.08016871743486974, 0.0811707014028056, 0.08217268537074147, 0.08317466933867736, 0.08417665330661322, 0.0851786372745491, 0.08618062124248498, 0.08718260521042084, 0.08818458917835671, 0.08918657314629258, 0.09018855711422845, 0.09119054108216433, 0.0921925250501002, 0.09319450901803607, 0.09419649298597195, 0.09519847695390782, 0.09620046092184369, 0.09720244488977955, 0.09820442885771542, 0.0992064128256513, 0.10020839679358717, 0.10121038076152304, 0.10221236472945892, 0.10321434869739479, 0.10421633266533066, 0.10521831663326653, 0.1062203006012024, 0.10722228456913828, 0.10822426853707415, 0.10922625250501002, 0.1102282364729459, 0.11123022044088177, 0.11223220440881763, 0.1132341883767535, 0.11423617234468937, 0.11523815631262525, 0.11624014028056112, 0.11724212424849699, 0.11824410821643287, 0.11924609218436874, 0.12024807615230461, 0.12125006012024048, 0.12225204408817635, 0.12325402805611223, 0.1242560120240481, 0.12525799599198398, 0.12625997995991986, 0.12726196392785571, 0.1282639478957916, 0.12926593186372748, 0.13026791583166333, 0.13126989979959922, 0.13227188376753507, 0.13327386773547095, 0.13427585170340683, 0.1352778356713427, 0.13627981963927857, 0.13728180360721445, 0.1382837875751503, 0.1392857715430862, 0.14028775551102207, 0.14128973947895793, 0.1422917234468938, 0.14329370741482966, 0.14429569138276555, 0.14529767535070143, 0.14629965931863728, 0.14730164328657316, 0.14830362725450902, 0.1493056112224449, 0.15030759519038078, 0.15130957915831664, 0.15231156312625252, 0.1533135470941884, 0.15431553106212426, 0.15531751503006014, 0.15631949899799602, 0.15732148296593187, 0.15832346693386776, 0.1593254509018036, 0.1603274348697395, 0.16132941883767538, 0.16233140280561123, 0.1633333867735471, 0.16433537074148297, 0.16533735470941885, 0.16633933867735473, 0.16734132264529059, 0.16834330661322647, 0.16934529058116235, 0.1703472745490982, 0.1713492585170341, 0.17235124248496997, 0.17335322645290582, 0.1743552104208417, 0.17535719438877756, 0.17635917835671344, 0.17736116232464932, 0.17836314629258518, 0.17936513026052106, 0.18036711422845692, 0.1813690981963928, 0.18237108216432868, 0.18337306613226453, 0.18437505010020042, 0.1853770340681363, 0.18637901803607215, 0.18738100200400803, 0.18838298597194392, 0.18938496993987977, 0.19038695390781565, 0.1913889378757515, 0.1923909218436874, 0.19339290581162327, 0.19439488977955913, 0.195396873747495, 0.19639885771543086, 0.19740084168336675, 0.19840282565130263, 0.19940480961923848, 0.20040679358717436, 0.20140877755511025, 0.2024107615230461, 0.20341274549098198, 0.20441472945891787, 0.20541671342685372, 0.2064186973947896, 0.20742068136272546, 0.20842266533066134, 0.20942464929859722, 0.21042663326653308, 0.21142861723446896, 0.2124306012024048, 0.2134325851703407, 0.21443456913827658, 0.21543655310621243, 0.2164385370741483, 0.2174405210420842, 0.21844250501002005, 0.21944448897795593, 0.2204464729458918, 0.22144845691382767, 0.22245044088176355, 0.2234524248496994, 0.2244544088176353, 0.22545639278557117, 0.22645837675350702, 0.2274603607214429, 0.22846234468937876, 0.22946432865731464, 0.23046631262525052, 0.23146829659318638, 0.23247028056112226, 0.23347226452905814, 0.234474248496994, 0.23547623246492988, 0.23647821643286576, 0.23748020040080162, 0.2384821843687375, 0.23948416833667335, 0.24048615230460924, 0.24148813627254512, 0.24249012024048097, 0.24349210420841685, 0.2444940881763527, 0.2454960721442886, 0.24649805611222447, 0.24750004008016033, 0.2485020240480962, 0.2495040080160321, 0.25050599198396795, 0.25150797595190383, 0.2525099599198397, 0.2535119438877756, 0.2545139278557114, 0.2555159118236473, 0.2565178957915832, 0.25751987975951907, 0.25852186372745495, 0.2595238476953908, 0.26052583166332666, 0.26152781563126254, 0.2625297995991984, 0.2635317835671343, 0.26453376753507013, 0.265535751503006, 0.2665377354709419, 0.2675397194388778, 0.26854170340681366, 0.26954368737474954, 0.27054567134268537, 0.27154765531062125, 0.27254963927855713, 0.273551623246493, 0.2745536072144289, 0.2755555911823647, 0.2765575751503006, 0.2775595591182365, 0.27856154308617237, 0.27956352705410825, 0.28056551102204413, 0.28156749498997996, 0.28256947895791584, 0.2835714629258517, 0.2845734468937876, 0.2855754308617235, 0.2865774148296593, 0.2875793987975952, 0.2885813827655311, 0.28958336673346696, 0.29058535070140284, 0.29158733466933867, 0.29258931863727455, 0.29359130260521044, 0.2945932865731463, 0.2955952705410822, 0.296597254509018, 0.2975992384769539, 0.2986012224448898, 0.2996032064128257, 0.30060519038076156, 0.30160717434869744, 0.30260915831663326, 0.30361114228456915, 0.30461312625250503, 0.3056151102204409, 0.3066170941883768, 0.3076190781563126, 0.3086210621242485, 0.3096230460921844, 0.31062503006012027, 0.31162701402805615, 0.31262899799599203, 0.31363098196392786, 0.31463296593186374, 0.3156349498997996, 0.3166369338677355, 0.3176389178356714, 0.3186409018036072, 0.3196428857715431, 0.320644869739479, 0.32164685370741486, 0.32264883767535074, 0.32365082164328657, 0.32465280561122245, 0.32565478957915833, 0.3266567735470942, 0.3276587575150301, 0.3286607414829659, 0.3296627254509018, 0.3306647094188377, 0.33166669338677357, 0.33266867735470945, 0.33367066132264533, 0.33467264529058116, 0.33567462925851704, 0.3366766132264529, 0.3376785971943888, 0.3386805811623247, 0.3396825651302605, 0.3406845490981964, 0.3416865330661323, 0.34268851703406816, 0.34369050100200405, 0.3446924849699399, 0.34569446893787575, 0.34669645290581164, 0.3476984368737475, 0.3487004208416834, 0.3497024048096193, 0.3507043887775551, 0.351706372745491, 0.3527083567134269, 0.35371034068136276, 0.35471232464929864, 0.35571430861723446, 0.35671629258517035, 0.35771827655310623, 0.3587202605210421, 0.359722244488978, 0.3607242284569138, 0.3617262124248497, 0.3627281963927856, 0.36373018036072147, 0.36473216432865735, 0.36573414829659323, 0.36673613226452906, 0.36773811623246494, 0.3687401002004008, 0.3697420841683367, 0.3707440681362726, 0.3717460521042084, 0.3727480360721443, 0.3737500200400802, 0.37475200400801606, 0.37575398797595194, 0.3767559719438878, 0.37775795591182365, 0.37875993987975953, 0.3797619238476954, 0.3807639078156313, 0.3817658917835672, 0.382767875751503, 0.3837698597194389, 0.38477184368737477, 0.38577382765531065, 0.38677581162324653, 0.38777779559118236, 0.38877977955911824, 0.3897817635270541, 0.39078374749499, 0.3917857314629259, 0.3927877154308617, 0.3937896993987976, 0.3947916833667335, 0.39579366733466936, 0.39679565130260525, 0.39779763527054113, 0.39879961923847695, 0.39980160320641284, 0.4008035871743487, 0.4018055711422846, 0.4028075551102205, 0.4038095390781563, 0.4048115230460922, 0.4058135070140281, 0.40681549098196396, 0.40781747494989984, 0.4088194589178357, 0.40982144288577155, 0.41082342685370743, 0.4118254108216433, 0.4128273947895792, 0.4138293787575151, 0.4148313627254509, 0.4158333466933868, 0.41683533066132267, 0.41783731462925855, 0.41883929859719443, 0.41984128256513026, 0.42084326653306614, 0.421845250501002, 0.4228472344689379, 0.4238492184368738, 0.4248512024048096, 0.4258531863727455, 0.4268551703406814, 0.42785715430861726, 0.42885913827655314, 0.429861122244489, 0.43086310621242485, 0.43186509018036073, 0.4328670741482966, 0.4338690581162325, 0.4348710420841684, 0.4358730260521042, 0.4368750100200401, 0.43787699398797597, 0.43887897795591185, 0.43988096192384774, 0.4408829458917836, 0.44188492985971944, 0.4428869138276553, 0.4438888977955912, 0.4448908817635271, 0.445892865731463, 0.4468948496993988, 0.4478968336673347, 0.44889881763527056, 0.44990080160320645, 0.45090278557114233, 0.45190476953907815, 0.45290675350701404, 0.4539087374749499, 0.4549107214428858, 0.4559127054108217, 0.4569146893787575, 0.4579166733466934, 0.4589186573146293, 0.45992064128256516, 0.46092262525050104, 0.4619246092184369, 0.46292659318637275, 0.46392857715430863, 0.4649305611222445, 0.4659325450901804, 0.4669345290581163, 0.4679365130260521, 0.468938496993988, 0.46994048096192387, 0.47094246492985975, 0.47194444889779563, 0.4729464328657315, 0.47394841683366734, 0.4749504008016032, 0.4759523847695391, 0.476954368737475, 0.47795635270541087, 0.4789583366733467, 0.4799603206412826, 0.48096230460921846, 0.48196428857715434, 0.4829662725450902, 0.48396825651302605, 0.48497024048096193, 0.4859722244488978, 0.4869742084168337, 0.4879761923847696, 0.4889781763527054, 0.4899801603206413, 0.49098214428857717, 0.49198412825651305, 0.49298611222444894, 0.4939880961923848, 0.49499008016032064, 0.4959920641282565, 0.4969940480961924, 0.4979960320641283, 0.4989980160320642, 0.5, 0.5010019839679358, 0.5020039679358718, 0.5030059519038076, 0.5040079358717434, 0.5050099198396794, 0.5060119038076152, 0.5070138877755511, 0.508015871743487, 0.5090178557114228, 0.5100198396793587, 0.5110218236472945, 0.5120238076152305, 0.5130257915831663, 0.5140277755511021, 0.5150297595190381, 0.5160317434869739, 0.5170337274549098, 0.5180357114228457, 0.5190376953907815, 0.5200396793587174, 0.5210416633266532, 0.5220436472945892, 0.523045631262525, 0.5240476152304608, 0.5250495991983968, 0.5260515831663326, 0.5270535671342685, 0.5280555511022044, 0.5290575350701402, 0.5300595190380761, 0.531061503006012, 0.5320634869739479, 0.5330654709418837, 0.5340674549098197, 0.5350694388777555, 0.5360714228456913, 0.5370734068136273, 0.5380753907815631, 0.539077374749499, 0.5400793587174348, 0.5410813426853707, 0.5420833266533066, 0.5430853106212424, 0.5440872945891784, 0.5450892785571142, 0.54609126252505, 0.547093246492986, 0.5480952304609218, 0.5490972144288577, 0.5500991983967936, 0.5511011823647294, 0.5521031663326653, 0.5531051503006011, 0.5541071342685371, 0.5551091182364729, 0.5561111022044087, 0.5571130861723447, 0.5581150701402805, 0.5591170541082164, 0.5601190380761523, 0.5611210220440882, 0.562123006012024, 0.5631249899799599, 0.5641269739478958, 0.5651289579158316, 0.5661309418837676, 0.5671329258517034, 0.5681349098196392, 0.5691368937875751, 0.570138877755511, 0.5711408617234469, 0.5721428456913827, 0.5731448296593186, 0.5741468136272545, 0.5751487975951903, 0.5761507815631263, 0.5771527655310621, 0.5781547494989979, 0.5791567334669339, 0.5801587174348697, 0.5811607014028056, 0.5821626853707415, 0.5831646693386773, 0.5841666533066132, 0.585168637274549, 0.586170621242485, 0.5871726052104208, 0.5881745891783566, 0.5891765731462926, 0.5901785571142284, 0.5911805410821643, 0.5921825250501002, 0.593184509018036, 0.5941864929859719, 0.5951884769539078, 0.5961904609218437, 0.5971924448897795, 0.5981944288577155, 0.5991964128256513, 0.6001983967935871, 0.601200380761523, 0.6022023647294589, 0.6032043486973948, 0.6042063326653306, 0.6052083166332665, 0.6062103006012024, 0.6072122845691382, 0.6082142685370742, 0.60921625250501, 0.6102182364729458, 0.6112202204408818, 0.6122222044088176, 0.6132241883767535, 0.6142261723446893, 0.6152281563126252, 0.6162301402805611, 0.6172321242484969, 0.6182341082164329, 0.6192360921843687, 0.6202380761523045, 0.6212400601202405, 0.6222420440881763, 0.6232440280561122, 0.6242460120240481, 0.625247995991984, 0.6262499799599198, 0.6272519639278556, 0.6282539478957916, 0.6292559318637274, 0.6302579158316634, 0.6312598997995992, 0.632261883767535, 0.6332638677354709, 0.6342658517034068, 0.6352678356713427, 0.6362698196392785, 0.6372718036072144, 0.6382737875751503, 0.6392757715430861, 0.6402777555110221, 0.6412797394789579, 0.6422817234468937, 0.6432837074148297, 0.6442856913827655, 0.6452876753507014, 0.6462896593186372, 0.6472916432865731, 0.648293627254509, 0.6492956112224448, 0.6502975951903808, 0.6512995791583166, 0.6523015631262524, 0.6533035470941884, 0.6543055310621242, 0.6553075150300601, 0.656309498997996, 0.6573114829659318, 0.6583134669338677, 0.6593154509018035, 0.6603174348697395, 0.6613194188376753, 0.6623214028056112, 0.6633233867735471, 0.6643253707414829, 0.6653273547094188, 0.6663293386773547, 0.6673313226452906, 0.6683333066132264, 0.6693352905811623, 0.6703372745490982, 0.671339258517034, 0.67234124248497, 0.6733432264529058, 0.6743452104208416, 0.6753471943887775, 0.6763491783567134, 0.6773511623246493, 0.6783531462925851, 0.679355130260521, 0.6803571142284569, 0.6813590981963927, 0.6823610821643287, 0.6833630661322645, 0.6843650501002003, 0.6853670340681363, 0.6863690180360721, 0.687371002004008, 0.6883729859719439, 0.6893749699398798, 0.6903769539078156, 0.6913789378757514, 0.6923809218436874, 0.6933829058116232, 0.6943848897795591, 0.695386873747495, 0.6963888577154308, 0.6973908416833667, 0.6983928256513026, 0.6993948096192385, 0.7003967935871743, 0.7013987775551102, 0.7024007615230461, 0.7034027454909819, 0.7044047294589179, 0.7054067134268537, 0.7064086973947895, 0.7074106813627254, 0.7084126653306613, 0.7094146492985972, 0.710416633266533, 0.7114186172344689, 0.7124206012024048, 0.7134225851703406, 0.7144245691382766, 0.7154265531062124, 0.7164285370741482, 0.7174305210420842, 0.71843250501002, 0.7194344889779559, 0.7204364729458917, 0.7214384569138276, 0.7224404408817635, 0.7234424248496993, 0.7244444088176353, 0.7254463927855711, 0.726448376753507, 0.7274503607214429, 0.7284523446893787, 0.7294543286573146, 0.7304563126252505, 0.7314582965931864, 0.7324602805611222, 0.733462264529058, 0.734464248496994, 0.7354662324649298, 0.7364682164328658, 0.7374702004008016, 0.7384721843687374, 0.7394741683366733, 0.7404761523046092, 0.7414781362725451, 0.7424801202404809, 0.7434821042084168, 0.7444840881763527, 0.7454860721442885, 0.7464880561122245, 0.7474900400801603, 0.7484920240480961, 0.749494008016032, 0.7504959919839679, 0.7514979759519038, 0.7524999599198396, 0.7535019438877756, 0.7545039278557114, 0.7555059118236472, 0.7565078957915832, 0.757509879759519, 0.7585118637274549, 0.7595138476953908, 0.7605158316633266, 0.7615178156312625, 0.7625197995991984, 0.7635217835671343, 0.7645237675350701, 0.765525751503006, 0.7665277354709419, 0.7675297194388777, 0.7685317034068136, 0.7695336873747495, 0.7705356713426853, 0.7715376553106212, 0.7725396392785571, 0.773541623246493, 0.7745436072144288, 0.7755455911823647, 0.7765475751503006, 0.7775495591182364, 0.7785515430861724, 0.7795535270541082, 0.780555511022044, 0.78155749498998, 0.7825594789579158, 0.7835614629258517, 0.7845634468937875, 0.7855654308617234, 0.7865674148296593, 0.7875693987975951, 0.7885713827655311, 0.7895733667334669, 0.7905753507014028, 0.7915773346693387, 0.7925793186372745, 0.7935813026052104, 0.7945832865731463, 0.7955852705410822, 0.796587254509018, 0.7975892384769538, 0.7985912224448898, 0.7995932064128256, 0.8005951903807615, 0.8015971743486974, 0.8025991583166332, 0.8036011422845691, 0.804603126252505, 0.8056051102204409, 0.8066070941883767, 0.8076090781563126, 0.8086110621242485, 0.8096130460921843, 0.8106150300601203, 0.8116170140280561, 0.8126189979959919, 0.8136209819639278, 0.8146229659318637, 0.8156249498997996, 0.8166269338677354, 0.8176289178356714, 0.8186309018036072, 0.819632885771543, 0.820634869739479, 0.8216368537074148, 0.8226388376753507, 0.8236408216432866, 0.8246428056112224, 0.8256447895791583, 0.8266467735470941, 0.8276487575150301, 0.8286507414829659, 0.8296527254509017, 0.8306547094188377, 0.8316566933867735, 0.8326586773547094, 0.8336606613226453, 0.8346626452905811, 0.835664629258517, 0.8366666132264529, 0.8376685971943888, 0.8386705811623246, 0.8396725651302605, 0.8406745490981964, 0.8416765330661322, 0.8426785170340682, 0.843680501002004, 0.8446824849699398, 0.8456844689378757, 0.8466864529058116, 0.8476884368737475, 0.8486904208416833, 0.8496924048096192, 0.8506943887775551, 0.8516963727454909, 0.8526983567134269, 0.8537003406813627, 0.8547023246492986, 0.8557043086172345, 0.8567062925851703, 0.8577082765531062, 0.858710260521042, 0.859712244488978, 0.8607142284569138, 0.8617162124248496, 0.8627181963927856, 0.8637201803607214, 0.8647221643286573, 0.8657241482965932, 0.866726132264529, 0.8677281162324649, 0.8687301002004008, 0.8697320841683367, 0.8707340681362725, 0.8717360521042083, 0.8727380360721443, 0.8737400200400801, 0.874742004008016, 0.8757439879759519, 0.8767459719438877, 0.8777479559118236, 0.8787499398797595, 0.8797519238476954, 0.8807539078156312, 0.8817558917835672, 0.882757875751503, 0.8837598597194388, 0.8847618436873748, 0.8857638276553106, 0.8867658116232465, 0.8877677955911824, 0.8887697795591182, 0.8897717635270541, 0.8907737474949899, 0.8917757314629259, 0.8927777154308617, 0.8937796993987975, 0.8947816833667335, 0.8957836673346693, 0.8967856513026052, 0.8977876352705411, 0.8987896192384769, 0.8997916032064128, 0.9007935871743487, 0.9017955711422846, 0.9027975551102204, 0.9037995390781562, 0.9048015230460922, 0.905803507014028, 0.906805490981964, 0.9078074749498998, 0.9088094589178356, 0.9098114428857715, 0.9108134268537074, 0.9118154108216433, 0.9128173947895791, 0.913819378757515, 0.9148213627254509, 0.9158233466933867, 0.9168253306613227, 0.9178273146292585, 0.9188292985971944, 0.9198312825651302, 0.9208332665330661, 0.921835250501002, 0.9228372344689378, 0.9238392184368738, 0.9248412024048096, 0.9258431863727454, 0.9268451703406814, 0.9278471543086172, 0.9288491382765531, 0.929851122244489, 0.9308531062124248, 0.9318550901803607, 0.9328570741482966, 0.9338590581162325, 0.9348610420841683, 0.9358630260521041, 0.9368650100200401, 0.9378669939879759, 0.9388689779559118, 0.9398709619238477, 0.9408729458917835, 0.9418749298597194, 0.9428769138276553, 0.9438788977955912, 0.944880881763527, 0.945882865731463, 0.9468848496993988, 0.9478868336673346, 0.9488888176352706, 0.9498908016032064, 0.9508927855711423, 0.9518947695390781, 0.952896753507014, 0.9538987374749499, 0.9549007214428857, 0.9559027054108217, 0.9569046893787575, 0.9579066733466933, 0.9589086573146293, 0.9599106412825651, 0.960912625250501, 0.9619146092184369, 0.9629165931863727, 0.9639185771543086, 0.9649205611222444, 0.9659225450901804, 0.9669245290581162, 0.967926513026052, 0.968928496993988, 0.9699304809619238, 0.9709324649298597, 0.9719344488977956, 0.9729364328657314, 0.9739384168336673, 0.9749404008016032, 0.9759423847695391, 0.9769443687374749, 0.9779463527054107, 0.9789483366733467, 0.9799503206412825, 0.9809523046092185, 0.9819542885771543, 0.9829562725450902, 0.983958256513026, 0.9849602404809619, 0.9859622244488978, 0.9869642084168336, 0.9879661923847696, 0.9889681763527054, 0.9899701603206412, 0.9909721442885772, 0.991974128256513, 0.9929761122244489, 0.9939780961923848, 0.9949800801603206, 0.9959820641282565, 0.9969840480961923, 0.9979860320641283, 0.9989880160320641, 0.99999))</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class Sum:

    def __init__(self, spectra: tuple, interpolation_grid=default_interpolation_grid):
        self.spectra = spectra
        self.norm_factor = sum((s.norm_factor for s in self.spectra))
        p = [s.percentiles(interpolation_grid) for s in self.spectra]
        x = np.zeros(len(interpolation_grid) * len(self.spectra) + 1)
        x[1:] = np.concatenate(p)
        y = self.cumulative(x) / self.norm_factor
        self.inverse_cdf = interp1d(y, x)

    def size_distribution(self, x):
        result = 0.
        for spectrum in self.spectra:
            result += spectrum.size_distribution(x)
        return result

    def cumulative(self, x):
        result = 0.
        for spectrum in self.spectra:
            result += spectrum.cumulative(x)
        return result

    def percentiles(self, cdf_values):
        return self.inverse_cdf(cdf_values)</code></pre>
</details>
<h3>Methods</h3>
<dl>
<dt id="PySDM.initialisation.spectra.Sum.cumulative"><code class="name flex">
<span>def <span class="ident">cumulative</span></span>(<span>self, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def cumulative(self, x):
    result = 0.
    for spectrum in self.spectra:
        result += spectrum.cumulative(x)
    return result</code></pre>
</details>
</dd>
<dt id="PySDM.initialisation.spectra.Sum.percentiles"><code class="name flex">
<span>def <span class="ident">percentiles</span></span>(<span>self, cdf_values)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def percentiles(self, cdf_values):
    return self.inverse_cdf(cdf_values)</code></pre>
</details>
</dd>
<dt id="PySDM.initialisation.spectra.Sum.size_distribution"><code class="name flex">
<span>def <span class="ident">size_distribution</span></span>(<span>self, x)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def size_distribution(self, x):
    result = 0.
    for spectrum in self.spectra:
        result += spectrum.size_distribution(x)
    return result</code></pre>
</details>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="PySDM.initialisation" href="index.html">PySDM.initialisation</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="PySDM.initialisation.spectra.Exponential" href="#PySDM.initialisation.spectra.Exponential">Exponential</a></code></h4>
</li>
<li>
<h4><code><a title="PySDM.initialisation.spectra.Lognormal" href="#PySDM.initialisation.spectra.Lognormal">Lognormal</a></code></h4>
</li>
<li>
<h4><code><a title="PySDM.initialisation.spectra.Spectrum" href="#PySDM.initialisation.spectra.Spectrum">Spectrum</a></code></h4>
<ul class="">
<li><code><a title="PySDM.initialisation.spectra.Spectrum.cumulative" href="#PySDM.initialisation.spectra.Spectrum.cumulative">cumulative</a></code></li>
<li><code><a title="PySDM.initialisation.spectra.Spectrum.percentiles" href="#PySDM.initialisation.spectra.Spectrum.percentiles">percentiles</a></code></li>
<li><code><a title="PySDM.initialisation.spectra.Spectrum.size_distribution" href="#PySDM.initialisation.spectra.Spectrum.size_distribution">size_distribution</a></code></li>
<li><code><a title="PySDM.initialisation.spectra.Spectrum.stats" href="#PySDM.initialisation.spectra.Spectrum.stats">stats</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="PySDM.initialisation.spectra.Sum" href="#PySDM.initialisation.spectra.Sum">Sum</a></code></h4>
<ul class="">
<li><code><a title="PySDM.initialisation.spectra.Sum.cumulative" href="#PySDM.initialisation.spectra.Sum.cumulative">cumulative</a></code></li>
<li><code><a title="PySDM.initialisation.spectra.Sum.percentiles" href="#PySDM.initialisation.spectra.Sum.percentiles">percentiles</a></code></li>
<li><code><a title="PySDM.initialisation.spectra.Sum.size_distribution" href="#PySDM.initialisation.spectra.Sum.size_distribution">size_distribution</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>